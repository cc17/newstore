define("src/js/index/AppSlide",["src/js/libs/jquery","src/js/libs/Slider","src/js/libs/template","src/js/libs/urls_config"],function(a){var b=a("src/js/libs/jquery"),c=(a("src/js/libs/Slider"),a("src/js/libs/template")),d=a("src/js/libs/urls_config"),e=d.offlineStatus?"offline":"online",f=function(){this.cache=[],this.tpl=["<% for(var i=0;i<data.length;i++){ %>","<% var item = data[i]; %>","<li   > ",'<a href="<% if(item.app_url){ %><%= item.app_url %><%}else{%>###<%}%> " target="_blank"  <% if(item.app_uuid){%> class="J-show-dialog" data-uuid="<%= item.app_uuid %>" <% } %> >',' <img src="<%= item.headimg  %>" />',"</a>","</li>","<% } %> "].join(""),this.$list=b(".slider-list"),this.getData()};return f.prototype={constructor:f,getData:function(){var a=this;b.ajax({url:d[e].slider+(d[e].slider.indexOf("?")>0?"&t=":"?t=")+(new Date).getTime(),beforeSend:function(){a.$list.html('<div class="loading"></div>')}}).done(b.proxy(a.renderUi,a))},renderUi:function(a){if(a="string"==typeof a?JSON.parse(a):a,a.res){var b=a.info,d=b.headimg,e=b.midimg;if(d.length||e.length){this.cacheData(d);var f=c(this.tpl,{data:d});this.$list.html(f),this.getCache(this._getCache()),this.midBanner(e),this.bindEvt()}}},midBanner:function(a){a=a[0];var c='<a href="'+a.app_url+'" target="_blank"><img src="'+a.midimg+'" /></a>';b(".zt-banner").html(c)},cacheData:function(a){var c=this;b.each(a,function(a,b){c.cache[b.app_uuid]=b})},_getCache:function(){return this.cache},bindEvt:function(){var a=b(".slider").unslider({dots:!0});b(".unslider-arrow").click(function(){var b=this.className.split(" ")[1];a.data("unslider")[b]()})}},f}),define("src/js/index/DownloadAndNewadd",["src/js/libs/jquery","src/js/libs/subbyte","src/js/libs/template","src/js/libs/FixAppstatus","src/js/libs/Observer","src/js/libs/reportValue","src/js/libs/needUpdate","src/js/libs/mainNavItem"],function(a){var b=a("src/js/libs/jquery"),c=(a("src/js/libs/subbyte"),a("src/js/libs/template")),d=a("src/js/libs/FixAppstatus"),e=function(a){this.cache={},this.url=a.url,this.week=a.week,this.recent=a.recent,this.hookDiv=a.hookDiv,this.getData()};return e.prototype={constructor:e,getData:function(){var a=this;b.ajax({url:this.url+(this.url.indexOf("?")>0?"&t=":"?t=")+(new Date).getTime(),beforeSend:function(){a.week.wrap.html('<div class="loading"></div>'),a.recent.wrap.html('<div class="loading"></div>')}}).done(b.proxy(a.fixData,a))},fixData:function(a){a="string"==typeof a?JSON.parse(a):a;if(a.res){var b,c=a.info,e=c.recentnum;delete c.recentnum;for(var f in c){var g=c[f];g=d.fixAppData(g),this.renderUi(f,g),(b=this.hookDiv[f])&&b.html('<a href="top.html?type=recent"  >本周更新'+e+"款</a>"),this.cacheData(g)}this.getCache(this._getCache())}},renderUi:function(a,b){var d=c(this[a].tpl,{data:b});this[a].wrap.html(d)},cacheData:function(a){var c=this;b.each(a,function(a,b){c.cache[b.app_uuid]=b})},_getCache:function(){return this.cache},events:{mouseover:"mouseoverHandle",mouseout:"mouseoutHandle"},mouseoverHandle:function(){var a=b(this);a.addClass("hover"),a.find(".install").show()},mouseoutHandle:function(){var a=b(this);a.removeClass("hover"),a.find(".install").hide()},bindEvt:function(a){var b=this;for(var c in this.events){var d=b[this.events[c]];a.on(c,".item",d)}}},e}),define("src/js/index/Newadd",["src/js/libs/jquery","src/js/libs/subbyte","src/js/libs/template"],function(a){var b=a("src/js/libs/jquery"),c=(a("src/js/libs/subbyte"),a("src/js/libs/template")),d=function(a){this.$wrap=b(a.wrap),this.tpl=b(a.tpl).html(),this.url=a.url,this.cache=[],this.getData.apply(this,arguments)};return d.prototype={constructor:d,getData:function(){var a=this;b.ajax({url:this.url+"?t="+(new Date).getTime()}).done(b.proxy(a.renderUi,a)).then(b.proxy(a.bindEvt,a))},renderUi:function(a){a=JSON.parse(a);var d=this;if(0==a.errno){var e=a.data;this.cacheData(e);var f=c(d.tpl,{data:e});this.$wrap.html(f),b(".newadd-count").html("最新上架"+e.length+"款"),this.getCache(this._getCache())}},cacheData:function(a){var c=this;b.each(a,function(a,b){c.cache[b.app_uuid]=b})},_getCache:function(){return this.cache},events:{mouseover:"mouseoverHandle",mouseout:"mouseoutHandle"},mouseoverHandle:function(){var a=b(this);a.addClass("hover"),a.find(".app-install").show()},mouseoutHandle:function(){var a=b(this);a.removeClass("hover"),a.find(".app-install").hide()},bindEvt:function(){var a=this;for(var b in this.events){var c=a[this.events[b]];this.$wrap.on(b,".item",c)}}},d}),define("src/js/index/OnlineMust",["src/js/libs/jquery","src/js/libs/subbyte","src/js/libs/template","./Recommend","src/js/libs/Slider","src/js/libs/FixAppstatus","src/js/libs/Observer","src/js/libs/reportValue","src/js/libs/needUpdate","src/js/libs/mainNavItem"],function(a){var b=(a("src/js/libs/jquery"),a("src/js/libs/subbyte"),a("src/js/libs/template"),a("./Recommend"));return b}),define("src/js/index/Recommend",["src/js/libs/jquery","src/js/libs/subbyte","src/js/libs/Slider","src/js/libs/template","src/js/libs/FixAppstatus","src/js/libs/Observer","src/js/libs/reportValue","src/js/libs/needUpdate","src/js/libs/mainNavItem"],function(a){var b=a("src/js/libs/jquery"),c=(a("src/js/libs/subbyte"),a("src/js/libs/Slider"),a("src/js/libs/template")),d=a("src/js/libs/FixAppstatus"),e=function(a){this.$listWrap=a.listWrap,this.$lists=a.lists,this.$pager=a.pager,this.step=716,this.tpl=b(a.tpl).html(),this.url=a.url,this.cache=[],this.getData.apply(this,arguments)};return e.prototype={constructor:e,getData:function(){var a=this;b.ajax({url:this.url+(this.url.indexOf("?")>0?"&t=":"?t=")+(new Date).getTime(),beforeSend:function(){a.$lists.html('<div class="loading"></div>')}}).done(b.proxy(a.renderUi,a))},renderUi:function(a){a="string"==typeof a?JSON.parse(a):a;var b=this;if(a.res){var e=a.info,f=[];if(e=d.fixAppData(e),e&&e.length>9&&b.$pager.show(),e.length%9!=0)for(var g=9*Math.ceil(e.length/9)-e.length,h=0;g>h;h++)e.push({is_blank:!0});this.cacheData(e);var f=c(b.tpl,{data:e});b.$lists.html(f),b.getCache(b._getCache()),b.bindEvt()}else b.$lists.html("暂无数据")},bindEvt:function(){function a(){2==f?(e.i==f-1&&(g.addClass("disabled"),h.removeClass("disabled")),0==e.i&&(h.addClass("disabled"),g.removeClass("disabled"))):(e.i>0&&e.i<f-1&&c.find(".disabled").removeClass("disabled"),e.i==f-1&&g.addClass("disabled"),0==e.i&&h.addClass("disabled"))}var c=this.$pager,d=(this.$listWrap.unslider({autoplay:!1,loop:!1,maxWidth:714,complete:a,items:".main-list",item:".reco-row"}),this.$listWrap.data("key")),e=this.$listWrap.data(d),f=e.li.length;c.on("click","span",function(){var a=b(this).attr("data-action");e[a]()});var g=c.find(".next"),h=c.find(".prev")},cacheData:function(a){var c=this;b.each(a,function(a,b){c.cache[b.app_uuid]=b})},_getCache:function(){return this.cache}},e}),define("src/js/index/Tasks",["src/js/libs/jquery","./OnlineMust","src/js/libs/subbyte","src/js/libs/template","./Recommend","src/js/libs/Slider","src/js/libs/FixAppstatus","src/js/libs/Observer","src/js/libs/reportValue","src/js/libs/needUpdate","src/js/libs/mainNavItem","./DownloadAndNewadd","./AppSlide","src/js/libs/urls_config","src/js/libs/searchForm","src/js/libs/xss","src/js/libs/queryString","src/js/libs/Dialog","src/js/libs/AppDialogTpl"],function(a){function b(){this.tasks=[],this.instance={}}var c=a("src/js/libs/jquery"),d=a("./OnlineMust"),e=a("./Recommend"),f=a("./DownloadAndNewadd"),g=a("./AppSlide"),h=a("src/js/libs/Observer"),i=(a("src/js/libs/searchForm"),a("src/js/libs/Dialog")),j=a("src/js/libs/AppDialogTpl"),k=a("src/js/libs/urls_config"),l=k.offlineStatus?"offline":"online",m={OnlineMust:d,Recommend:e,DownloadAndNewadd:f,AppSlide:g},n={};return b.prototype={constructor:b,register:function(a){var b=this;return c.isArray(a)&&c.each(a,function(a,c){b.register(c)}),c.isPlainObject(a)&&this.tasks.push(a),this},trigger:function(a){var b=this,d=this.tasks.length,e=0;d&&c.each(this.tasks,function(c,f){m[f.module].prototype.getCache=function(a){b.cacheData(a)};b.instance[e]=new m[f.module](f.params);e++,e>=d&&a()})},cacheData:function(a){n=c.extend(n,a)},init:function(){var a=this;this.register([{module:"OnlineMust",params:{listWrap:c(".onlineMust-list-wrap"),lists:c("#J-onlineMust"),pager:c("#J-onlineMust-arrow"),tpl:"#J-main-tpl",url:k[l].onlineMust}},{module:"Recommend",params:{listWrap:c(".reco-list-wrap"),lists:c("#J-recommend"),pager:c("#J-reco-arrow"),tpl:"#J-main-tpl",url:k[l].recommend}},{module:"DownloadAndNewadd",params:{url:k[l].mainSide,hookDiv:{recent:c(".newadd-count")},week:{wrap:c("#J-download"),tpl:c("#J-tpl-download").html()},recent:{wrap:c("#J-newadd"),tpl:c("#J-tpl-newadd").html()}}},{module:"AppSlide"}]).trigger(c.proxy(a.bindEvt,a))},bindEvt:function(){var a=this,b=function(a,b){var c=a.dialog;c.find(".content").html(b)};c(document.body).on("click","a.J-show-dialog",function(){var d,e=c(this),f=e.attr("data-uuid");if(!f||!(d=n[f]))return!1;var g=j.render({data:d});return a.dialog?b(a.dialog,g):a.dialog=new i("x",{zIndex:20,title:"",w:952,h:580,noFixPos:!0,content:g,fixClass:"add-dialog",contentClass:"add-dialog-outer"}),a.dialog.show(),!1}),h.register("updateData",this.updateData)},updateData:function(a,b){n[a]&&(n[a].installed=b?!1:!0)}},b}),define("src/js/index/getData",["src/js/libs/urls_config","src/js/libs/jquery"],function(a){var b="offline",c=a("src/js/libs/urls_config"),d=a("src/js/libs/jquery"),e=function(){return{get:function(){var a=d.ajax(c[b].onlineMust);a.onSuccess=function(){}}}}();return{onlineMuster:e}}),define("src/js/index/index",["src/js/libs/jquery","./Tasks","./OnlineMust","src/js/libs/subbyte","src/js/libs/template","./Recommend","src/js/libs/Slider","src/js/libs/FixAppstatus","src/js/libs/Observer","src/js/libs/reportValue","src/js/libs/needUpdate","src/js/libs/mainNavItem","./DownloadAndNewadd","./AppSlide","src/js/libs/urls_config","src/js/libs/searchForm","src/js/libs/xss","src/js/libs/queryString","src/js/libs/Dialog","src/js/libs/AppDialogTpl","src/js/libs/returnToTop","src/js/libs/throttle","src/js/libs/debounce"],function(a){function b(){var a=new c;a.init()}var c=(a("src/js/libs/jquery"),a("./Tasks"));return a("src/js/libs/returnToTop").init(),{start:b}});